<template>
  <div class="auth">
    <h1>–ö–æ–Ω—Ü–µ–ø—Ç.–°—Ç—Ä–∞—Ç–µ–≥–∏—è</h1>
    <div class="auth-modal">
      <p v-for="user in users" :key="user.id">ID: {{ user.id }} üëâ {{ user.name }}</p>      <header>
        <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
        <span>X</span>
      </header>
      <input type="text" placeholder="–õ–æ–≥–∏–Ω">
      <input type="password" placeholder="–ü–∞—Ä–æ–ª—å">
      <button>–í–æ–π—Ç–∏</button>
      <p>–ó–∞–±—ã–ª–∏ –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å? –ù–∞–ø–∏—Å–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</p>
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {
      users: '',
    }
  },
  async mounted() {
    this.users = await $fetch('https://jsonplaceholder.typicode.com/users')
    this.login();
  },
  methods: {
    async login() {
      try {
        const response = await $fetch('http://localhost/api/v1/user/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            username: 'test',
            password: '123',
          }),
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
        console.log('Login response:', response);

        // –î–∞–ª–µ–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
      } catch (error) {
        console.error('Login failed:', error);
      }
    }
  }
}
</script>

<style scoped>
.auth {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
}

.auth-modal {
  border-radius: 16px;
  background: #F4F7F9;
  box-shadow: 13px 16px 32px 0px rgba(7, 84, 114, 0.10);
  display: flex;
  flex-direction: column;
  padding: 16px;
  justify-content: center;
  align-items: center;
}

.auth-modal header {
  display: flex;
  align-items: center;
}

.auth-modal p {
  color: #246983;
  text-align: center;
  font-size: 10px;
  font-weight: 700;
}

.auth-modal button {
  margin-top: 12px;
  margin-bottom: 12px;
}
</style>
